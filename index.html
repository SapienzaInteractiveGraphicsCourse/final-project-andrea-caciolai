<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        
        <title>Link Training</title>
        
        <!-- CSS -->
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="icon" type="image/png" href="assets/images/favicon.png"/>

        <!-- LIBS -->
        <script src="lib/jquery-3.5.1.js"></script>
        <link rel="stylesheet" href="lib/bootstrap-4.5.2-dist/css/bootstrap.min.css" crossorigin="anonymous">
        <script src="lib/bootstrap-4.5.2-dist/js/bootstrap.min.js"></script>
        <script src="lib/pep.js"></script>
        
        <!-- JS -->
        <script type="module" src="./js/main.js"></script>
	</head>
	<body class="text-center">
        <!-- Image assets -->
        <div id="crosshair" hidden>
            <img id="crosshair-img" src="./assets/images/crosshair.webp">
        </div>

        <!-- INTERFACE -->
        <div id="gameMenu" class="justify-content-center vertical-center">
            <!-- Central box -->
            <div class="container" style="width: 400px;">
                <!-- Title -->
                <div class="row p-3">
                    <div class="col">
                        <h2>Link's Training</h2>
                    </div>
                </div>

                <!-- Difficulty -->
                <div class="row p-3">
                    <div class="col">
                        <!-- <h4>Select difficulty</h4> -->
                        <select class="custom-select mr-sm-2" id="difficultySelect">
                            <option value="-1" selected>Choose difficulty...</option>
                            <option value="easy">Easy</option>
                            <option value="medium">Medium</option>
                            <option value="hard">Hard</option>
                          </select>
                    </div>
                </div>
                
                <!-- Day/Night -->
                <div class="row p-3">
                    <div class="col">
                        <form id="daylightForm">
                            <!-- <h4>Select day or night</h4> -->
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="daylightRadio" name="daylightRadio" value="day" checked>
                                <label class="form-check-label" for="daylightRadio">Day</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="nightRadio" name="daylightRadio" value="night">
                                <label class="form-check-label" for="nightRadio">Night</label>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Instructions -->
                <div class="row p-3">
                    <div class="col">
                        <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#instructionsModal">Instructions</button>
                    </div>
                </div>
                
                <!-- Play button -->
                <div class="row p-3">
                    <div class="col">
                        <button id="playButton" type="button" class="btn btn-success btn-lg">Play</button>
                    </div>
                </div>

            </div>

            <!-- Controls -->
            <div class="modal fade" id="instructionsModal" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Instructions</h4>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                    <div class="modal-body">
                        <p>
                            Help Link master his archery skill, by hitting the target with an arrow three times. Remember, gravity counts!
                            <br/><br/>
                            Move: WASD<br/>
                            Aim: MOUSE<br/>
                            Switch camera (first person, third person): Q
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading and pause screens -->
        <div id="loadingScreen" hidden>
            <div id="loader"></div>
        </div>
        <div id="pauseScreen" hidden>
			<div id="instructions">
				<span style="font-size:36px">Game paused. Click to play</span>
				<br /><br />
				Move: WASD<br/>
                Aim: MOUSE<br/>
                Switch camera: Q
			</div>
        </div>

        <!-- HUD for hit/miss -->
        <div id="targetsDiv">
            <div id="targetsHitDiv">
                <img id="hitImg1" class="targetImg targetImg1" src="assets/images/target-hit.png">
                <img id="hitImg2" class="targetImg targetImg2" src="assets/images/target-hit.png">
                <img id="hitImg3" class="targetImg targetImg3" src="assets/images/target-hit.png">
            </div>
            <div id="targetsMissDiv">
                <img id="missImg1" class="targetImg targetImg1" src="assets/images/target-miss.png">
                <img id="missImg2" class="targetImg targetImg2" src="assets/images/target-miss.png">
                <img id="missImg3" class="targetImg targetImg3" src="assets/images/target-miss.png">
            </div>
        </div>

        <!-- Simple starter script -->
        <script type="module">
            import {main} from "./js/main.js";

            document.querySelector('#playButton').addEventListener('click', function() {
                var difficulty = $("#difficultySelect :selected").val(); 

                if ( difficulty === "-1" ) {
                    alert("Please select a difficulty!");
                } else {
                    main();
                }
            });
        </script>
	</body>
</html>